# ESP32 iBeacon Scanner & nRF52840 Broadcaster

æœ¬å°ˆæ¡ˆå¯¦ä½œäº†ä¸€å€‹å®Œæ•´çš„ç‰©è¯ç¶²æ¶æ§‹ï¼šç”± **Nordic nRF52840** ä½œç‚ºç™¼é€ç«¯ï¼ˆBroadcasterï¼‰ï¼Œä¸¦ç”± **ESP32** ä½œç‚ºæ¥æ”¶ç«¯ï¼ˆGatewayï¼‰ï¼Œå°‡æ•æ‰åˆ°çš„æ•¸æ“šé€é MQTT å”å®šå‚³è¼¸è‡³é›²ç«¯ã€‚

## ğŸ›  ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“ç´°ç¯€

### **ç™¼é€ç«¯ (nRF52840)**
* [cite_start]**æ ¸å¿ƒæ©Ÿåˆ¶**: ä½¿ç”¨ Zephyr SDK `bt_le_adv_start()` å¯¦ä½œ [cite: 41, 45]ã€‚
* [cite_start]**å»£æ’­æ¨¡å¼**: `BT_LE_ADV_NCONN` (ä¸å¯é€£ç·šæ¨¡å¼)ï¼Œå°ˆç‚º iBeacon è¨­è¨ˆä»¥ç¯€çœè€—èƒ½ [cite: 51, 54, 55]ã€‚
* [cite_start]**å°åŒ…è¦æ ¼**: éµå¾ª Apple iBeacon æ¨™æº–ï¼ŒåŒ…å« Company ID (`0x4C00`) èˆ‡ Type (`0x0215`) [cite: 18, 19, 76, 77]ã€‚

### **æ¥æ”¶ç«¯ (Gateway - ESP32)**
* [cite_start]**æƒæé˜²è­·**: å¯¦ä½œ `len < 30` å°åŒ…é•·åº¦æª¢æŸ¥ï¼Œæœ‰æ•ˆéæ¿¾éæ³•å°åŒ…é˜²æ­¢ç³»çµ±å´©æ½° (Panic) [cite: 52, 62, 63]ã€‚
* [cite_start]**èº«åˆ†é‚„åŸ**: é‡å°ç‰¹å®š UUID é€²è¡Œ ASCII å°ä½è§£å¯†ï¼ˆå¦‚ï¼š`5A 65 76` -> `Zev`ï¼‰ [cite: 15, 22, 102]ã€‚
* [cite_start]**é›²ç«¯å°æ¥**: æ•¸æ“šæ‰“åŒ…æˆ JSON æ ¼å¼ä¸¦ç™¼é€è‡³ MQTT Broker (`test.mosquitto.org`) [cite: 105, 106, 132]ã€‚

---

## ğŸ“… é–‹ç™¼å¯¦é©—ç´€éŒ„

### **[Week 3] è¼ªæ’­ã€è§£å¯†èˆ‡ç³»çµ±é˜²è­·**
* **æŠ€è¡“é‡é»**:
    * [cite_start]**Nordic**: å¯¦ä½œ 3 ç§’å‹•æ…‹è¼ªæ’­æ©Ÿåˆ¶ï¼Œåœ¨ã€Œæ™®é€šçµ„ã€èˆ‡ã€ŒZevåŠ å¯†çµ„ã€ä¹‹é–“åˆ‡æ› [cite: 28, 43, 48]ã€‚
    * [cite_start]**ESP32**: å¯¦ä½œ Heap Memory ç›£æ¸¬ï¼Œç³»çµ±é‹ä½œæ™‚ç©©å®šç¶­æŒæ–¼ç´„ **87KB** å‰©é¤˜ç©ºé–“ [cite: 104, 135, 185]ã€‚
* **å¯¦é©—å ±å‘Š**: [ğŸ“‘ æŸ¥çœ‹æœ¬é€±å®Œæ•´ PDF å ±å‘Š](./Week3/Nordicå¯¦ä½œç¬¬ä¸‰å‘¨.pdf)

### **[Week 2] åŸºç¤æƒæèˆ‡å»£æ’­**
* **ESP32**: åŸºç¤ BLE æƒæèˆ‡ MQTT æ•¸æ“šè½‰ç™¼ã€‚
* **Nordic**: éœæ…‹ iBeacon å»£æ’­å¯¦ä½œã€‚

---

## ğŸ“Š ç³»çµ±æ™‚åºåœ–
æœ¬å°ˆæ¡ˆçš„è³‡æ–™æµå‘å¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

1. [cite_start]**Nordic** è¼ªæµå»£æ’­ä¸åŒ UUID çš„ iBeacon è¨Šè™Ÿ [cite: 197, 204]ã€‚
2. [cite_start]**ESP32** æƒæä¸¦éæ¿¾ Major/Minor åŒ¹é…ä¹‹è¨­å‚™ [cite: 200, 206]ã€‚
3. [cite_start]**ESP32** åŸ·è¡Œè§£å¯†ä¸¦ç›£æ¸¬è¨˜æ†¶é«”å¾Œï¼Œå°‡ JSON æ•¸æ“šé€å¾€ **MQTT Broker** [cite: 208, 209, 210]ã€‚
